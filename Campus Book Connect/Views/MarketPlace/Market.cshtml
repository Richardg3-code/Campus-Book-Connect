@model IEnumerable<Campus_Book_Connect.Models.BookTable.Book>

@{
    ViewData["Title"] = "Marketplace";
}

<h2>Marketplace</h2>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}


@if (!Model.Any())
{
    <p>No books available right now.</p>
}
else
{
    <div class="book-container">
        @foreach (var book in Model)
        {
            <div class="book-card" id="book-@book.Id">
                <h3>@book.Title</h3>
                <p><strong>Author:</strong> @book.Author</p>
                <p><strong>Price:</strong> $@book.Price</p>
                <button class="btn btn-success buy-btn"
                        data-id="@book.Id"
                        data-title="@book.Title"
                        data-price="@book.Price">
                    Buy
                </button>
            </div>
        }


    </div>
}

    <hr />
    <h3>Your Cart</h3>
    <ul id="cartItems">
    <li>No items in cart yet.</li>
    </ul>
    <p id="totalPrice"><strong>Total:</strong> $0.00</p>


<button id="checkoutBtn" class="checkout-btn">Checkout</button>



<p id="successMessage" style="color: green; display: none; font-weight: bold;">
    Thanks for your purchase!
</p>

@section Scripts {
    <script src="~/js/marketplace.js"></script>
}
